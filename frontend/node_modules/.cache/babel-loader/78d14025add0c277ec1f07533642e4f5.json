{"ast":null,"code":"import _classCallCheck from\"C:/Users/Jannp/Desktop/ense701assignment1/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Jannp/Desktop/ense701assignment1/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Jannp/Desktop/ense701assignment1/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Jannp/Desktop/ense701assignment1/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import'../App.css';import axios from'axios';import ArticleCard from'./ArticleCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShowArticles=/*#__PURE__*/function(_Component){_inherits(ShowArticles,_Component);var _super=_createSuper(ShowArticles);function ShowArticles(props){var _this;_classCallCheck(this,ShowArticles);_this=_super.call(this,props);_this.state={articles:[]};return _this;}_createClass(ShowArticles,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('https://group4-assignment1b.herokuapp.com/api/articles').then(function(res){_this2.setState({articles:res.data});}).catch(function(err){console.log('Error from ShowArticlesList');});}},{key:\"render\",value:function render(){var _this3=this;var articles=this.state.articles;console.log(\"PrintBook: \"+articles);var articleList;if(!articles){articleList=\"there is no book record!\";}else{articleList=articles.map(function(article,k){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ArticleCard,{article:article},k),/*#__PURE__*/_jsx(\"div\",{children:article._id}),/*#__PURE__*/_jsx(\"button\",{onClick:_this3.deleteArticle.bind(_this3,article._id),children:\"Delete me\"})]});});}return/*#__PURE__*/_jsx(\"div\",{className:\"ShowBookList\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h2\",{className:\"display-4 text-center\",children:\"Articles List\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"list\",children:articleList})]})});}},{key:\"deleteArticle\",value:function deleteArticle(id){axios.delete('https://group4-assignment1b.herokuapp.com/api/articles/'+id).then(function(res){window.location.href=\"/ShowArticles\";;}).catch(function(err){console.log(\"Error form ShowBookDetails_deleteClick\");});}}]);return ShowArticles;}(Component);export default ShowArticles;","map":{"version":3,"names":["React","Component","axios","ArticleCard","ShowArticles","props","state","articles","get","then","res","setState","data","catch","err","console","log","articleList","map","article","k","_id","deleteArticle","bind","id","delete","window","location","href"],"sources":["C:/Users/Jannp/Desktop/ense701assignment1/frontend/src/components/ShowArticles.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport '../App.css';\r\nimport axios from 'axios';\r\nimport ArticleCard from './ArticleCard';\r\n\r\nclass ShowArticles extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {articles: []};\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get('https://group4-assignment1b.herokuapp.com/api/articles')\r\n      .then(res => {\r\n        this.setState({\r\n          articles: res.data\r\n        })\r\n      })\r\n      .catch(err =>{\r\n        console.log('Error from ShowArticlesList');\r\n      })\r\n  };\r\n\r\n  render() {\r\n    const articles = this.state.articles;\r\n    console.log(\"PrintBook: \" + articles);\r\n    let articleList;\r\n\r\n    if(!articles) {\r\n        articleList = \"there is no book record!\";\r\n    } else {\r\n        articleList = articles.map((article, k) =>\r\n        <>\r\n        <ArticleCard article={article} key={k} />\r\n        <div>{article._id}</div>\r\n        <button onClick={this.deleteArticle.bind(this,article._id)}>Delete me</button>\r\n        </>\r\n        \r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"ShowBookList\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12\">\r\n              <br />\r\n              <h2 className=\"display-4 text-center\">Articles List</h2>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"list\">\r\n                {articleList}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  deleteArticle(id){\r\n    axios.delete('https://group4-assignment1b.herokuapp.com/api/articles/'+id).then(res => { \r\n      window.location.href = `/ShowArticles`;\r\n      ; \r\n      }) \r\n      .catch(err => { \r\n      console.log(\"Error form ShowBookDetails_deleteClick\"); \r\n      }) \r\n      }; \r\n}\r\n\r\n\r\n\r\nexport default ShowArticles;"],"mappings":"ghBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,gJAEMC,CAAAA,Y,4GACJ,sBAAYC,KAAZ,CAAmB,8CACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAACC,QAAQ,CAAE,EAAX,CAAb,CAFiB,aAGlB,C,0DAED,4BAAoB,iBAClBL,KAAK,CACFM,GADH,CACO,wDADP,EAEGC,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACX,MAAI,CAACC,QAAL,CAAc,CACZJ,QAAQ,CAAEG,GAAG,CAACE,IADF,CAAd,EAGD,CANH,EAOGC,KAPH,CAOS,SAAAC,GAAG,CAAG,CACXC,OAAO,CAACC,GAAR,CAAY,6BAAZ,EACD,CATH,EAUD,C,sBAED,iBAAS,iBACP,GAAMT,CAAAA,QAAQ,CAAG,KAAKD,KAAL,CAAWC,QAA5B,CACAQ,OAAO,CAACC,GAAR,CAAY,cAAgBT,QAA5B,EACA,GAAIU,CAAAA,WAAJ,CAEA,GAAG,CAACV,QAAJ,CAAc,CACVU,WAAW,CAAG,0BAAd,CACH,CAFD,IAEO,CACHA,WAAW,CAAGV,QAAQ,CAACW,GAAT,CAAa,SAACC,OAAD,CAAUC,CAAV,qBAC3B,wCACA,KAAC,WAAD,EAAa,OAAO,CAAED,OAAtB,EAAoCC,CAApC,CADA,cAEA,qBAAMD,OAAO,CAACE,GAAd,EAFA,cAGA,eAAQ,OAAO,CAAE,MAAI,CAACC,aAAL,CAAmBC,IAAnB,CAAwB,MAAxB,CAA6BJ,OAAO,CAACE,GAArC,CAAjB,uBAHA,GAD2B,EAAb,CAAd,CAQH,CAED,mBACE,YAAK,SAAS,CAAC,cAAf,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,YAAK,SAAS,CAAC,KAAf,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,aADF,cAEE,WAAI,SAAS,CAAC,uBAAd,2BAFF,GADF,EADF,cAQE,YAAK,SAAS,CAAC,MAAf,UACOJ,WADP,EARF,GADF,EADF,CAgBD,C,6BAED,uBAAcO,EAAd,CAAiB,CACftB,KAAK,CAACuB,MAAN,CAAa,0DAA0DD,EAAvE,EAA2Ef,IAA3E,CAAgF,SAAAC,GAAG,CAAI,CACrFgB,MAAM,CAACC,QAAP,CAAgBC,IAAhB,iBACA,CACC,CAHH,EAIGf,KAJH,CAIS,SAAAC,GAAG,CAAI,CACdC,OAAO,CAACC,GAAR,CAAY,wCAAZ,EACC,CANH,EAOG,C,0BA/DoBf,S,EAoE3B,cAAeG,CAAAA,YAAf"},"metadata":{},"sourceType":"module"}